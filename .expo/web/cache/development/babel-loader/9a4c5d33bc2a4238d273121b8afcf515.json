{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"F:\\\\Projetos\\\\Android\\\\ReactNative\\\\educred\\\\src\\\\pages\\\\Tutor\\\\DetalheEquipe\\\\index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport { AuthContext } from \"../../../navegacao/AuthProvider\";\nimport FormInput from \"../../../../components/FormInput\";\nimport firebase from \"../../../config/firebaseconfig.js\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport styles from \"./style\";\n\nfunction DetalheEquipe(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      equipe = _useState2[0],\n      setEquipe = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      equipesPicker = _useState4[0],\n      setEquipesPicker = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      equipePickerSel = _useState6[0],\n      setEquipePickerSel = _useState6[1];\n\n  var database = firebase.firestore();\n  useEffect(function () {\n    firebase.auth().onAuthStateChanged(function (user) {\n      setUser(user);\n\n      if (user) {\n        var idTutor = user.uid;\n        console.log(idTutor + \" + Detalhe Equipe\");\n        database.collection(\"equipe\").where(\"idTutorEquipe\", \"==\", idTutor).onSnapshot(function (query) {\n          var lista = [];\n          query.forEach(function (doc) {\n            lista.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n              id: doc.id\n            }));\n          });\n          setEquipe(lista);\n          var listaEquipe = [];\n          var equipeRef = firebase.database().ref().child('equipe').limitToLast(10);\n          equipeRef.once('value', function _callee(snapshot) {\n            var obj, arrayEquipe;\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    obj = snapshot.val();\n                    arrayEquipe = Object.keys(obj).map(function (key) {\n                      return {\n                        key: key,\n                        nomeEquipe: obj[key].nomeEquipe\n                      };\n                    });\n                    listaEquipe = arrayEquipe;\n                    setEquipesPicker({\n                      data: listaEquipe,\n                      loading: false\n                    });\n                    console.log(listaEquipe.data);\n\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          });\n          setEquipesPicker([lista]);\n          console.log(equipesPicker + \" + lista Equipe\");\n        });\n      }\n    });\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, React.createElement(Picker, {\n    selectedValue: equipePickerSel,\n    onValueChange: function onValueChange(itemValue, itemIndex) {\n      setEquipePickerSel(itemValue, itemIndex);\n      console.log(itemValue);\n      console.log(itemIndex);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, equipesPicker.map(function (equip) {\n    console.log(equip.nomeEquipe);\n    return React.createElement(Picker.Item, {\n      key: equip.id,\n      label: equip.nomeEquipe,\n      value: equip.nomeEquipe,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 27\n      }\n    });\n  })), React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    data: equipe,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.contextTodasEquipes,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.buttonDeletaEquipe,\n        onPress: function onPress() {\n          deleteEquipe(item.id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }\n      }, React.createElement(AntDesign, {\n        name: \"deleteusergroup\",\n        size: 23,\n        color: \"blue\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 33\n        }\n      })), React.createElement(Text, {\n        style: styles.textDescricaoEquipe,\n        onPress: function onPress() {\n          var _route$params;\n\n          navigation.navigate(\"Movimentar Credito Jogador\", {\n            idEquipe: item.id,\n            NomeEquipe: item.nomeEquipe,\n            idTutorEquipe: (_route$params = route.params) == null ? void 0 : _route$params.idTutor\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }\n      }, item.nomeEquipe));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.buttonCadastrarEquipe,\n    onPress: function onPress() {\n      var _route$params2;\n\n      return navigation.navigate(\"Cadastrar Equipe\", {\n        idTutor: (_route$params2 = route.params) == null ? void 0 : _route$params2.idTutor\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.iconButtonCadastrarEquipe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, React.createElement(AntDesign, {\n    name: \"addusergroup\",\n    size: 23,\n    color: \"#ffffff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default DetalheEquipe;","map":{"version":3,"sources":["F:/Projetos/Android/ReactNative/educred/src/pages/Tutor/DetalheEquipe/index.js"],"names":["React","useState","useEffect","useContext","Picker","AuthContext","FormInput","firebase","AntDesign","styles","DetalheEquipe","navigation","route","user","setUser","equipe","setEquipe","equipesPicker","setEquipesPicker","equipePickerSel","setEquipePickerSel","database","firestore","auth","onAuthStateChanged","idTutor","uid","console","log","collection","where","onSnapshot","query","lista","forEach","doc","push","data","id","listaEquipe","equipeRef","ref","child","limitToLast","once","snapshot","obj","val","arrayEquipe","Object","keys","map","key","nomeEquipe","loading","container","itemValue","itemIndex","equip","item","contextTodasEquipes","buttonDeletaEquipe","deleteEquipe","textDescricaoEquipe","navigate","idEquipe","NomeEquipe","idTutorEquipe","params","buttonCadastrarEquipe","iconButtonCadastrarEquipe"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport {  \r\n    View,\r\n    Text,\r\n    TouchableOpacity,\r\n    FlatList\r\n} from \"react-native\";\r\n\r\nimport { Picker } from \"@react-native-picker/picker\";\r\n\r\nimport {AuthContext} from '../../../navegacao/AuthProvider';\r\n\r\nimport FormInput from \"../../../../components/FormInput\";\r\n\r\nimport firebase from \"../../../config/firebaseconfig.js\";\r\nimport { AntDesign } from \"@expo/vector-icons\";\r\nimport styles from \"./style\";\r\n\r\nfunction DetalheEquipe({ navigation, route }){\r\n\r\n    const {user, setUser} = useContext(AuthContext);\r\n    const [equipe, setEquipe] = useState('');\r\n    const [equipesPicker, setEquipesPicker] = useState([]);\r\n    const [equipePickerSel, setEquipePickerSel] = useState([]);\r\n    const database = firebase.firestore();\r\n        \r\n\r\n    useEffect(()=>{\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            setUser(user);\r\n            if (user) {\r\n                const idTutor = user.uid;\r\n                console.log(idTutor + \" + Detalhe Equipe\");\r\n                database.collection(\"equipe\").where(\"idTutorEquipe\", \"==\", idTutor).onSnapshot((query)=>{\r\n                    const lista = [];\r\n                    query.forEach((doc)=>{\r\n                        lista.push({...doc.data(), id: doc.id })\r\n                    });\r\n                    setEquipe(lista);\r\n\r\n                    var listaEquipe = [];\r\n\r\n                    var equipeRef = firebase.database().ref().child('equipe').limitToLast(10);\r\n                    equipeRef.once('value', async (snapshot) => {\r\n\r\n                    var obj = snapshot.val();\r\n\r\n                    var arrayEquipe = Object.keys(obj).map(function(key) {\r\n                    return {\r\n                        key,\r\n                        nomeEquipe: obj[key].nomeEquipe\r\n                    }\r\n                    });\r\n                    listaEquipe = arrayEquipe\r\n\r\n                        setEquipesPicker({ data: listaEquipe, loading: false });\r\n\r\n                        console.log(listaEquipe.data); // has the data\r\n\r\n                    });\r\n\r\n                    setEquipesPicker([lista]);\r\n                    console.log(equipesPicker + \" + lista Equipe\");\r\n                })\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    return(\r\n        <View style={styles.container}>\r\n            <Picker\r\n            selectedValue={equipePickerSel}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n                setEquipePickerSel(itemValue, itemIndex)\r\n\r\n                console.log(itemValue);\r\n                console.log(itemIndex);\r\n            }\r\n                \r\n            }>\r\n                {\r\n                equipesPicker.map(equip => {\r\n                    console.log(equip.nomeEquipe);\r\n                   return <Picker.Item key={equip.id} label={equip.nomeEquipe} value={equip.nomeEquipe} />\r\n                })\r\n                }\r\n            </Picker>\r\n            <FlatList\r\n                showsVerticalScrollIndicator={false}\r\n                data={equipe}\r\n                renderItem={( { item } )=>{\r\n                    return(\r\n                        <View style={styles.contextTodasEquipes}>\r\n                            <TouchableOpacity\r\n                                style={styles.buttonDeletaEquipe}\r\n                                onPress={() => {\r\n                                    deleteEquipe(item.id)\r\n                                }}>\r\n                                <AntDesign\r\n                                    name=\"deleteusergroup\"\r\n                                    size={23}\r\n                                    color=\"blue\"\r\n                                >                                \r\n                                </AntDesign>\r\n                            </TouchableOpacity>\r\n                            <Text\r\n                                style={styles.textDescricaoEquipe}\r\n                                onPress={()=> {\r\n                                    navigation.navigate(\"Movimentar Credito Jogador\",{\r\n                                        idEquipe: item.id,\r\n                                        NomeEquipe: item.nomeEquipe,\r\n                                        idTutorEquipe: route.params?.idTutor\r\n                                    })\r\n                                }}\r\n                            >\r\n                                {item.nomeEquipe}                                \r\n                            </Text>\r\n                        </View>\r\n                    )\r\n                }}\r\n                />\r\n            <TouchableOpacity \r\n                style={styles.buttonCadastrarEquipe} \r\n                onPress={() => navigation.navigate(\"Cadastrar Equipe\", { idTutor: route.params?.idTutor })}>\r\n                <Text style={styles.iconButtonCadastrarEquipe}>\r\n                    <AntDesign\r\n                        name=\"addusergroup\"\r\n                        size={23}\r\n                        color=\"#ffffff\"\r\n                    />\r\n                    </Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default DetalheEquipe;"]},"metadata":{},"sourceType":"module"}